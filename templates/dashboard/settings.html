{% extends "base.html" %}

{% block title %}ุฅุนุฏุงุฏุงุช ุงููุธุงู{% endblock %}

{% block extra_css %}
<style>
    .settings-section {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    }
    
    .settings-card {
        transition: all 0.3s ease;
    }
    
    .settings-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
    }
    
    .tab-button {
        transition: all 0.3s ease;
        border-bottom: 3px solid transparent;
    }
    
    .tab-button.active {
        border-bottom-color: #3b82f6;
        color: #3b82f6;
        font-weight: 600;
    }
    
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 30px;
    }
    
    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }
    
    .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 34px;
    }
    
    .toggle-slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }
    
    input:checked + .toggle-slider {
        background-color: #3b82f6;
    }
    
    input:checked + .toggle-slider:before {
        transform: translateX(30px);
    }
    
    .color-picker {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        cursor: pointer;
        border: 2px solid #e5e7eb;
    }
    
    .color-picker.active {
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    
    .theme-preview {
        border-radius: 12px;
        overflow: hidden;
        border: 2px solid #e5e7eb;
        transition: all 0.3s ease;
    }
    
    .theme-preview:hover {
        border-color: #3b82f6;
        transform: scale(1.02);
    }
    
    .theme-preview.active {
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    
    .backup-card {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 2px dashed #cbd5e1;
    }
    
    .backup-card:hover {
        background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
        border-color: #94a3b8;
    }
    
    .security-level {
        height: 8px;
        border-radius: 4px;
        overflow: hidden;
    }
    
    .security-fill {
        height: 100%;
        transition: width 0.5s ease;
    }
    
    /* Animation for status changes */
    @keyframes statusChange {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    
    .status-changing {
        animation: statusChange 0.5s ease;
    }
    
    /* Custom scrollbar for settings */
    .settings-scroll {
        max-height: 500px;
        overflow-y: auto;
    }
    
    .settings-scroll::-webkit-scrollbar {
        width: 6px;
    }
    
    .settings-scroll::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
    }
    
    .settings-scroll::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 3px;
    }
    
    .settings-scroll::-webkit-scrollbar-thumb:hover {
        background: #555;
    }
</style>
{% endblock %}

{% block content %}
<div class="animate__animated animate__fadeIn">
    <!-- Page Header -->
    <div class="mb-8">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
            <div>
                <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2">ุฅุนุฏุงุฏุงุช ุงููุธุงู</h1>
                <p class="text-gray-600">ุฅุฏุงุฑุฉ ูุงูุฉ ุฅุนุฏุงุฏุงุช ูุธุงู ุฅุฏุงุฑุฉ ุงูุณูููุฉ ุงูุฐูู</p>
            </div>
            
            <div class="flex items-center space-x-3 space-x-reverse">
                <button onclick="saveAllSettings()" 
                        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center">
                    <i class="fas fa-save ml-2"></i>
                    ุญูุธ ุฌููุน ุงูุฅุนุฏุงุฏุงุช
                </button>
                
                <button onclick="restoreDefaults()"
                        class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition flex items-center">
                    <i class="fas fa-undo ml-2"></i>
                    ุงุณุชุนุงุฏุฉ ุงูุงูุชุฑุงุถูุงุช
                </button>
            </div>
        </div>
    </div>
    
    <!-- Settings Tabs -->
    <div class="bg-white rounded-xl shadow mb-6">
        <div class="border-b border-gray-200">
            <nav class="flex overflow-x-auto">
                <button id="tab-general" 
                        class="tab-button active px-6 py-4 text-gray-600 hover:text-blue-600 whitespace-nowrap"
                        onclick="switchTab('general')">
                    <i class="fas fa-cog ml-2"></i>
                    ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
                </button>
                
                <button id="tab-security" 
                        class="tab-button px-6 py-4 text-gray-600 hover:text-blue-600 whitespace-nowrap"
                        onclick="switchTab('security')">
                    <i class="fas fa-shield-alt ml-2"></i>
                    ุงูุฃูุงู ูุงูุตูุงุญูุงุช
                </button>
                
                <button id="tab-notifications" 
                        class="tab-button px-6 py-4 text-gray-600 hover:text-blue-600 whitespace-nowrap"
                        onclick="switchTab('notifications')">
                    <i class="fas fa-bell ml-2"></i>
                    ุงูุฅุดุนุงุฑุงุช ูุงูุชูุจููุงุช
                </button>
                
                <button id="tab-appearance" 
                        class="tab-button px-6 py-4 text-gray-600 hover:text-blue-600 whitespace-nowrap"
                        onclick="switchTab('appearance')">
                    <i class="fas fa-palette ml-2"></i>
                    ุงููุธูุฑ ูุงููุงุฌูุฉ
                </button>
                
                <button id="tab-integrations" 
                        class="tab-button px-6 py-4 text-gray-600 hover:text-blue-600 whitespace-nowrap"
                        onclick="switchTab('integrations')">
                    <i class="fas fa-plug ml-2"></i>
                    ุงูุชูุงููุงุช ูุงููุงุฌูุงุช
                </button>
                
                <button id="tab-backup" 
                        class="tab-button px-6 py-4 text-gray-600 hover:text-blue-600 whitespace-nowrap"
                        onclick="switchTab('backup')">
                    <i class="fas fa-database ml-2"></i>
                    ุงููุณุฎ ุงูุงุญุชูุงุทู
                </button>
                
                <button id="tab-advanced" 
                        class="tab-button px-6 py-4 text-gray-600 hover:text-blue-600 whitespace-nowrap"
                        onclick="switchTab('advanced')">
                    <i class="fas fa-tools ml-2"></i>
                    ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ
                </button>
            </nav>
        </div>
        
        <!-- Tab Content -->
        <div class="p-6">
            <!-- General Settings Tab -->
            <div id="content-general" class="tab-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- System Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-server ml-3 text-blue-600"></i>
                            ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุฃุณุงุณูุฉ
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงุณู ุงููุธุงู</label>
                                <input type="text" 
                                       id="system-name"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       value="ูุธุงู ุฅุฏุงุฑุฉ ุงูุณูููุฉ ุงูุฐูู">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงูููุทูุฉ ุงูุฒูููุฉ</label>
                                <select id="timezone"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="Asia/Riyadh" selected>ุตูุนุงุก (ุชูููุช ุงูุณุนูุฏูุฉ)</option>
                                    <option value="Asia/Dubai">ุฏุจู (ุชูููุช ุงูุฅูุงุฑุงุช)</option>
                                    <option value="Asia/Qatar">ุงูุฏูุญุฉ (ุชูููุช ูุทุฑ)</option>
                                    <option value="Asia/Kuwait">ุงููููุช (ุชูููุช ุงููููุช)</option>
                                    <option value="UTC">ุชูููุช ุนุงููู (UTC)</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุบุฉ ุงููุธุงู</label>
                                <select id="language"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="ar" selected>ุงูุนุฑุจูุฉ</option>
                                    <option value="en">ุงูุฅูุฌููุฒูุฉ</option>
                                    <option value="ar-en">ุนุฑุจู/ุฅูุฌููุฒู</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุนููุฉ ุงููุธุงู</label>
                                <select id="currency"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="SAR" selected>ุงูุฑูุงู ุงูุณุนูุฏู (ุฑ.ู)</option>
                                    <option value="USD">ุงูุฏููุงุฑ ุงูุฃูุฑููู ($)</option>
                                    <option value="EUR">ุงูููุฑู (โฌ)</option>
                                    <option value="AED">ุงูุฏุฑูู ุงูุฅูุงุฑุงุชู (ุฏ.ุฅ)</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ูุถุน ุงูุตูุงูุฉ</label>
                                    <p class="text-sm text-gray-600">ุชุนุทูู ุงููุธุงู ููุตูุงูุฉ</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="maintenance-mode">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Basel III Compliance Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-shield-check ml-3 text-green-600"></i>
                            ุฅุนุฏุงุฏุงุช Basel III
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุณุจุฉ ุงูุญุฏ ุงูุฃุฏูู ููุณูููุฉ (LCR)</label>
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <input type="range" 
                                           id="lcr-threshold"
                                           min="80" max="150" step="5" 
                                           value="100"
                                           class="flex-1"
                                           oninput="updateLCRValue(this.value)">
                                    <span id="lcr-value" class="text-lg font-bold text-green-600">100%</span>
                                </div>
                                <p class="text-sm text-gray-600 mt-2">ูุณุจุฉ ุงูุณูููุฉ ุฅูู ุงูุงูุชุฒุงูุงุช ุฎูุงู 30 ููููุง</p>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุตุงูู ุงูุชูููู ุงููุณุชูุฑ (NSFR)</label>
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <input type="range" 
                                           id="nsfr-threshold"
                                           min="90" max="130" step="5" 
                                           value="100"
                                           class="flex-1"
                                           oninput="updateNSFRValue(this.value)">
                                    <span id="nsfr-value" class="text-lg font-bold text-green-600">100%</span>
                                </div>
                                <p class="text-sm text-gray-600 mt-2">ูุณุจุฉ ุงูุฃุตูู ุงููุณุชูุฑุฉ ุฅูู ุงูุงูุชุฒุงูุงุช</p>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุญุฏ ุงูุชูุจูู ุงููุจูุฑ</label>
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <input type="range" 
                                           id="early-warning"
                                           min="5" max="30" step="5" 
                                           value="20"
                                           class="flex-1"
                                           oninput="updateEarlyWarningValue(this.value)">
                                    <span id="early-warning-value" class="text-lg font-bold text-yellow-600">20%</span>
                                </div>
                                <p class="text-sm text-gray-600 mt-2">ุงููุณุจุฉ ุงููุฆููุฉ ููู ุงูุญุฏ ุงูุฃุฏูู ูุฅุทูุงู ุงูุชูุจูู</p>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงูุชูุงูู ุงูุชููุงุฆู</label>
                                    <p class="text-sm text-gray-600">ุถุจุท ุชููุงุฆู ููุฅุนุฏุงุฏุงุช ุญุณุจ Basel III</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="auto-compliance" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Branch Management -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-code-branch ml-3 text-purple-600"></i>
                            ุฅุฏุงุฑุฉ ุงููุฑูุน ุงูุงูุชุฑุงุถูุฉ
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงูุญุฏ ุงูุฃุฏูู ููุณูููุฉ ุงูุงูุชุฑุงุถู</label>
                                <div class="relative">
                                    <input type="number" 
                                           id="default-min-liquidity"
                                           step="1000" min="0"
                                           class="w-full p-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                           value="1000000">
                                    <span class="absolute left-3 top-3 text-gray-500">ุฑ.ู</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงูุญุฏ ุงูุฃูุตู ููุณูููุฉ ุงูุงูุชุฑุงุถู</label>
                                <div class="relative">
                                    <input type="number" 
                                           id="default-max-liquidity"
                                           step="1000" min="0"
                                           class="w-full p-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                           value="5000000">
                                    <span class="absolute left-3 top-3 text-gray-500">ุฑ.ู</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุชุฑุฉ ุชุญุฏูุซ ุงูุณูููุฉ</label>
                                <select id="liquidity-update-interval"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="30" selected>30 ุซุงููุฉ</option>
                                    <option value="60">ุฏูููุฉ ูุงุญุฏุฉ</option>
                                    <option value="300">5 ุฏูุงุฆู</option>
                                    <option value="600">10 ุฏูุงุฆู</option>
                                    <option value="1800">30 ุฏูููุฉ</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุชูููุช ุงูุชูุงุฑูุฑ ุงูููููุฉ</label>
                                <input type="time" 
                                       id="daily-report-time"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       value="23:00">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Security Settings Tab -->
            <div id="content-security" class="tab-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Authentication Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-user-shield ml-3 text-red-600"></i>
                            ุฅุนุฏุงุฏุงุช ุงููุตุงุฏูุฉ
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ (2FA)</label>
                                    <p class="text-sm text-gray-600">ุชุทุจูู Google Authenticator</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="2fa-enabled">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ูุฏุฉ ุงูุชูุงุก ุงูุฌูุณุฉ</label>
                                    <p class="text-sm text-gray-600">ุชุณุฌูู ุงูุฎุฑูุฌ ุงูุชููุงุฆู ุจุนุฏ:</p>
                                </div>
                                <select id="session-timeout"
                                        class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                                    <option value="15">15 ุฏูููุฉ</option>
                                    <option value="30" selected>30 ุฏูููุฉ</option>
                                    <option value="60">ุณุงุนุฉ ูุงุญุฏุฉ</option>
                                    <option value="120">ุณุงุนุชูู</option>
                                    <option value="0">ูุง ุชูุชูู</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุญุฏ ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู</label>
                                    <p class="text-sm text-gray-600">ููู ุงูุญุณุงุจ ุจุนุฏ:</p>
                                </div>
                                <select id="max-login-attempts"
                                        class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                                    <option value="3">3 ูุญุงููุงุช</option>
                                    <option value="5" selected>5 ูุญุงููุงุช</option>
                                    <option value="10">10 ูุญุงููุงุช</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชุณุฌูู ูุดุงุท ุงููุณุชุฎุฏู</label>
                                    <p class="text-sm text-gray-600">ุชุณุฌูู ุฌููุน ุงูุฅุฌุฑุงุกุงุช</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="user-activity-logging" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ููุฉ ูููุงุช ุงููุฑูุฑ</label>
                                <div class="security-level bg-gray-200 mb-2">
                                    <div id="password-strength" class="security-fill bg-green-500" style="width: 80%"></div>
                                </div>
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-gray-600">ุงููุณุชูู ุงูุญุงูู:</span>
                                    <span class="font-bold text-green-600">ููู</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Role Permissions -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-users-cog ml-3 text-purple-600"></i>
                            ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช (RBAC)
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุตูุงุญูุงุช ูุฏูุฑ ุงููุธุงู</label>
                                <div class="space-y-2 settings-scroll p-3 bg-gray-50 rounded-lg max-h-40">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-admin-view" class="ml-2" checked disabled>
                                        <label for="perm-admin-view" class="text-gray-700">ุนุฑุถ ุฌููุน ุงูุจูุงูุงุช</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-admin-edit" class="ml-2" checked disabled>
                                        <label for="perm-admin-edit" class="text-gray-700">ุชุนุฏูู ุฌููุน ุงูุจูุงูุงุช</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-admin-delete" class="ml-2" checked disabled>
                                        <label for="perm-admin-delete" class="text-gray-700">ุญุฐู ุงูุจูุงูุงุช</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-admin-users" class="ml-2" checked disabled>
                                        <label for="perm-admin-users" class="text-gray-700">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-admin-branches" class="ml-2" checked disabled>
                                        <label for="perm-admin-branches" class="text-gray-700">ุฅุฏุงุฑุฉ ุงููุฑูุน</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-admin-settings" class="ml-2" checked disabled>
                                        <label for="perm-admin-settings" class="text-gray-700">ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุตูุงุญูุงุช ูุฏูุฑ ุงููุฑุน</label>
                                <div class="space-y-2 settings-scroll p-3 bg-gray-50 rounded-lg max-h-40">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-manager-view" class="ml-2" checked>
                                        <label for="perm-manager-view" class="text-gray-700">ุนุฑุถ ุจูุงูุงุช ุงููุฑุน</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-manager-edit" class="ml-2" checked>
                                        <label for="perm-manager-edit" class="text-gray-700">ุชุนุฏูู ุจูุงูุงุช ุงููุฑุน</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-manager-transfer" class="ml-2" checked>
                                        <label for="perm-manager-transfer" class="text-gray-700">ุชุญููู ุงูุฃููุงู</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-manager-reports" class="ml-2" checked>
                                        <label for="perm-manager-reports" class="text-gray-700">ุฅูุดุงุก ุงูุชูุงุฑูุฑ</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="perm-manager-alerts" class="ml-2">
                                        <label for="perm-manager-alerts" class="text-gray-700">ุชุนุฏูู ุงูุชูุจููุงุช</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Data Encryption -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-lock ml-3 text-blue-600"></i>
                            ุชุดููุฑ ุงูุจูุงูุงุช
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุฎูุงุฑุฒููุฉ ุงูุชุดููุฑ</label>
                                <select id="encryption-algorithm"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="AES-256" selected>AES-256 (ูุณุชุญุณู)</option>
                                    <option value="AES-192">AES-192</option>
                                    <option value="AES-128">AES-128</option>
                                    <option value="3DES">3DES</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุฏุฉ ููุงุชูุญ ุงูุชุดููุฑ</label>
                                <select id="key-rotation"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="30">ุดูุฑููุง</option>
                                    <option value="90" selected>ุฑุจุน ุณููู</option>
                                    <option value="180">ูุตู ุณููู</option>
                                    <option value="365">ุณููููุง</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between md:col-span-2">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชุดููุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช</label>
                                    <p class="text-sm text-gray-600">ุชุดููุฑ ุฌููุน ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="db-encryption" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="md:col-span-2">
                                <button onclick="rotateEncryptionKeys()"
                                        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center">
                                    <i class="fas fa-sync-alt ml-2"></i>
                                    ุชุฏููุฑ ููุงุชูุญ ุงูุชุดููุฑ ุงูุขู
                                </button>
                                <p class="text-sm text-gray-600 mt-2">ุณูุชู ุฅูุดุงุก ููุงุชูุญ ุชุดููุฑ ุฌุฏูุฏุฉ ูุฅุนุงุฏุฉ ุชุดููุฑ ุงูุจูุงูุงุช</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Notifications Settings Tab -->
            <div id="content-notifications" class="tab-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Alert Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-bell ml-3 text-yellow-600"></i>
                            ุฅุนุฏุงุฏุงุช ุงูุชูุจููุงุช
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชูุจููุงุช ุงูุณูููุฉ ุงูููุฎูุถุฉ</label>
                                    <p class="text-sm text-gray-600">ุนูุฏ ูุตูู ุงูุณูููุฉ ููุญุฏ ุงูุฃุฏูู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="low-liquidity-alerts" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชูุจููุงุช ุงูุชุญูููุงุช ุงููุจูุฑุฉ</label>
                                    <p class="text-sm text-gray-600">ููุชุญูููุงุช ููู ููููู ุฑูุงู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="large-transfer-alerts" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชูุจููุงุช ุงููุดุงุท ุบูุฑ ุงููุนุชุงุฏ</label>
                                    <p class="text-sm text-gray-600">ูุดู ุงููุดุงุท ุงููุดุจูู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="suspicious-activity-alerts" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุนุชุจุฉ ุงูุชุญูููุงุช ุงููุจูุฑุฉ</label>
                                <div class="relative">
                                    <input type="number" 
                                           id="large-transfer-threshold"
                                           step="1000" min="0"
                                           class="w-full p-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                           value="1000000">
                                    <span class="absolute left-3 top-3 text-gray-500">ุฑ.ู</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุณุงุฆู ุงูุฅุดุนุงุฑ</label>
                                <div class="space-y-2">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="notify-inapp" class="ml-2" checked>
                                        <label for="notify-inapp" class="text-gray-700">ุงูุฅุดุนุงุฑุงุช ุฏุงุฎู ุงูุชุทุจูู</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="notify-email" class="ml-2" checked>
                                        <label for="notify-email" class="text-gray-700">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="notify-sms" class="ml-2">
                                        <label for="notify-sms" class="text-gray-700">ุฑุณุงุฆู SMS</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="notify-telegram" class="ml-2">
                                        <label for="notify-telegram" class="text-gray-700">Telegram</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notification Templates -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-envelope ml-3 text-blue-600"></i>
                            ููุงูุจ ุงูุฅุดุนุงุฑุงุช
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุงูุจ ุชูุจูู ุงูุณูููุฉ ุงูููุฎูุถุฉ</label>
                                <textarea id="low-liquidity-template"
                                          class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                          rows="3"
                                          placeholder="ุฃุฏุฎู ูุต ุงูุชูุจูู...">
๐จ ุชูุจูู: ุงูุณูููุฉ ูู ูุฑุน {{branch_name}} ูุตูุช ุฅูู {{liquidity_amount}} ุฑ.ูุ ุฃูู ูู ุงูุญุฏ ุงูุฃุฏูู ุงููุทููุจ {{min_liquidity}} ุฑ.ู
                                </textarea>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุงูุจ ุชูุจูู ุงูุชุญููู ุงููุจูุฑ</label>
                                <textarea id="large-transfer-template"
                                          class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                          rows="3"
                                          placeholder="ุฃุฏุฎู ูุต ุงูุชูุจูู...">
๐ธ ุชุญููู ูุจูุฑ: ุชู ุชุญููู {{amount}} ุฑ.ู ูู {{from_branch}} ุฅูู {{to_branch}} ุจูุงุณุทุฉ {{user_name}}
                                </textarea>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุงูุจ ุงูุชูุฑูุฑ ุงููููู</label>
                                <textarea id="daily-report-template"
                                          class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                          rows="3"
                                          placeholder="ุฃุฏุฎู ูุต ุงูุชูุฑูุฑ...">
๐ ุงูุชูุฑูุฑ ุงููููู: ุฅุฌูุงูู ุงูุณูููุฉ {{total_liquidity}} ุฑ.ูุ {{alerts_count}} ุชูุจููุงุช ูุดุทุฉุ {{transactions_count}} ูุนุงููุฉ
                                </textarea>
                            </div>
                            
                            <div class="text-right">
                                <button onclick="previewNotification()"
                                        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center">
                                    <i class="fas fa-eye ml-2"></i>
                                    ูุนุงููุฉ ุงูุฅุดุนุงุฑุงุช
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Schedule Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-clock ml-3 text-green-600"></i>
                            ุฅุนุฏุงุฏุงุช ุงูุฌุฏููุฉ
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงูุชูุงุฑูุฑ ุงูููููุฉ</label>
                                    <p class="text-sm text-gray-600">ุฅุฑุณุงู ุชูุฑูุฑ ูููู ุชููุงุฆู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="daily-reports-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุชูููุช ุงูุชูุฑูุฑ ุงููููู</label>
                                <input type="time" 
                                       id="daily-report-schedule"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       value="08:00">
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงูุชูุงุฑูุฑ ุงูุฃุณุจูุนูุฉ</label>
                                    <p class="text-sm text-gray-600">ุฅุฑุณุงู ุชูุฑูุฑ ุฃุณุจูุนู ุชููุงุฆู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="weekly-reports-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ููู ุงูุชูุฑูุฑ ุงูุฃุณุจูุนู</label>
                                <select id="weekly-report-day"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="0">ุงูุฃุญุฏ</option>
                                    <option value="1" selected>ุงูุงุซููู</option>
                                    <option value="2">ุงูุซูุงุซุงุก</option>
                                    <option value="3">ุงูุฃุฑุจุนุงุก</option>
                                    <option value="4">ุงูุฎููุณ</option>
                                    <option value="5">ุงูุฌูุนุฉ</option>
                                    <option value="6">ุงูุณุจุช</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between md:col-span-2">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงูุชูุจุคุงุช ุงูุชููุงุฆูุฉ</label>
                                    <p class="text-sm text-gray-600">ุชุดุบูู ููุงุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุชููุงุฆููุง</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="auto-predictions-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Appearance Settings Tab -->
            <div id="content-appearance" class="tab-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Theme Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-paint-brush ml-3 text-purple-600"></i>
                            ุงููุธูุฑ ูุงูุซูู
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-3 font-medium">ุงุฎุชุฑ ุงูุซูู</label>
                                <div class="grid grid-cols-3 gap-3">
                                    <div class="theme-preview cursor-pointer active"
                                         onclick="selectTheme('blue')"
                                         data-theme="blue">
                                        <div class="h-20 bg-gradient-to-r from-blue-600 to-blue-800"></div>
                                        <div class="p-3">
                                            <p class="font-medium text-center">ุฃุฒุฑู</p>
                                        </div>
                                    </div>
                                    
                                    <div class="theme-preview cursor-pointer"
                                         onclick="selectTheme('green')"
                                         data-theme="green">
                                        <div class="h-20 bg-gradient-to-r from-green-600 to-green-800"></div>
                                        <div class="p-3">
                                            <p class="font-medium text-center">ุฃุฎุถุฑ</p>
                                        </div>
                                    </div>
                                    
                                    <div class="theme-preview cursor-pointer"
                                         onclick="selectTheme('purple')"
                                         data-theme="purple">
                                        <div class="h-20 bg-gradient-to-r from-purple-600 to-purple-800"></div>
                                        <div class="p-3">
                                            <p class="font-medium text-center">ุจููุณุฌู</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงูููู ุงูุฑุฆูุณู</label>
                                <div class="flex space-x-3 space-x-reverse">
                                    <div class="color-picker bg-blue-600 active" 
                                         onclick="selectColor('blue')"
                                         data-color="blue"></div>
                                    <div class="color-picker bg-green-600" 
                                         onclick="selectColor('green')"
                                         data-color="green"></div>
                                    <div class="color-picker bg-purple-600" 
                                         onclick="selectColor('purple')"
                                         data-color="purple"></div>
                                    <div class="color-picker bg-red-600" 
                                         onclick="selectColor('red')"
                                         data-color="red"></div>
                                    <div class="color-picker bg-yellow-600" 
                                         onclick="selectColor('yellow')"
                                         data-color="yellow"></div>
                                    <div class="color-picker bg-gray-800" 
                                         onclick="selectColor('dark')"
                                         data-color="dark"></div>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ููุท ุงูุชุตููู</label>
                                <div class="flex space-x-3 space-x-reverse">
                                    <button onclick="selectLayout('compact')"
                                            class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                        ูุฏูุฌ
                                    </button>
                                    <button onclick="selectLayout('comfortable')"
                                            class="px-4 py-2 border border-blue-500 text-blue-600 rounded-lg bg-blue-50">
                                        ูุฑูุญ
                                    </button>
                                    <button onclick="selectLayout('spacious')"
                                            class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                        ูุณูุญ
                                    </button>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงููุถุน ุงูุฏุงูู</label>
                                    <p class="text-sm text-gray-600">ุชุจุฏูู ุงููุงุฌูุฉ ูููุถุน ุงูุฏุงูู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="dark-mode">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงูุฑุณูู ุงููุชุญุฑูุฉ</label>
                                    <p class="text-sm text-gray-600">ุชูุนูู ุงูุญุฑูุงุช ูุงูุงูุชูุงูุงุช</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="animations-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dashboard Customization -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-tachometer-alt ml-3 text-blue-600"></i>
                            ุชุฎุตูุต ููุญุฉ ุงูุชุญูู
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงูุนูุงุตุฑ ุงูุธุงูุฑุฉ</label>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-700">ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="show-stats-cards" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-700">ูุฎุทุทุงุช ุงูุณูููุฉ</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="show-charts" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-700">ุขุฎุฑ ุงูุชูุจููุงุช</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="show-recent-alerts" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-700">ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="show-quick-actions" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-700">ูุคุดุฑ Basel III</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="show-basel-indicator" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุชุฑุชูุจ ุงูุนูุงุตุฑ</label>
                                <div id="dashboard-items" class="space-y-2 p-3 bg-gray-50 rounded-lg">
                                    <div class="flex items-center justify-between p-2 bg-white rounded border cursor-move" data-item="stats">
                                        <span>๐ ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช</span>
                                        <i class="fas fa-grip-vertical text-gray-400"></i>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded border cursor-move" data-item="charts">
                                        <span>๐ ูุฎุทุทุงุช ุงูุณูููุฉ</span>
                                        <i class="fas fa-grip-vertical text-gray-400"></i>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded border cursor-move" data-item="alerts">
                                        <span>๐จ ุขุฎุฑ ุงูุชูุจููุงุช</span>
                                        <i class="fas fa-grip-vertical text-gray-400"></i>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded border cursor-move" data-item="actions">
                                        <span>โก ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ</span>
                                        <i class="fas fa-grip-vertical text-gray-400"></i>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุนุฏุฏ ุงููุฑูุน ูู ุงูุตูุญุฉ</label>
                                <select id="branches-per-page"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="10">10 ูุฑูุน</option>
                                    <option value="25" selected>25 ูุฑุนูุง</option>
                                    <option value="50">50 ูุฑุนูุง</option>
                                    <option value="100">100 ูุฑุน</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Logo and Branding -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-image ml-3 text-green-600"></i>
                            ุงูุดุนุงุฑ ูุงููููุฉ ุงูุจุตุฑูุฉ
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 mb-3 font-medium">ุดุนุงุฑ ุงููุธุงู</label>
                                <div class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors cursor-pointer"
                                     onclick="document.getElementById('logo-upload').click()">
                                    <i class="fas fa-upload text-3xl text-gray-400 mb-4"></i>
                                    <p class="font-semibold text-gray-700">ุงููุฑ ูุฑูุน ุดุนุงุฑ ุฌุฏูุฏ</p>
                                    <p class="text-sm text-gray-600 mt-2">ุงูุญุฌู ุงูููุตู ุจู: 200x200 ุจูุณู</p>
                                    <input type="file" id="logo-upload" class="hidden" accept="image/*">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-3 font-medium">ูุนุงููุฉ ุงูุดุนุงุฑ</label>
                                <div class="flex items-center justify-center p-8 border border-gray-200 rounded-xl">
                                    <div class="text-center">
                                        <div class="w-32 h-32 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                            <i class="fas fa-chart-line text-blue-600 text-4xl"></i>
                                        </div>
                                        <p class="font-bold text-gray-800">ูุธุงู ุงูุณูููุฉ ุงูุฐูู</p>
                                        <p class="text-sm text-gray-600">ุงูุฅุฏุงุฑุฉ ูุงูุชูุจุค ุงููุญุธู</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงุณู ุงููุคุณุณุฉ</label>
                                <input type="text" 
                                       id="institution-name"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       value="ุงูุจูู ุงูุณุนูุฏู ุงูุฑุงุฆุฏ">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ููู ุงููุคุณุณุฉ</label>
                                <input type="color" 
                                       id="institution-color"
                                       class="w-full h-12 rounded-lg cursor-pointer"
                                       value="#1e40af">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Integrations Settings Tab -->
            <div id="content-integrations" class="tab-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- API Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-code ml-3 text-blue-600"></i>
                            ุฅุนุฏุงุฏุงุช API
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชูุนูู API</label>
                                    <p class="text-sm text-gray-600">ุชูููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="api-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ููุชุงุญ API ุงูุฑุฆูุณู</label>
                                <div class="relative">
                                    <input type="text" 
                                           id="api-key"
                                           class="w-full p-3 pr-20 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition font-mono"
                                           value="sk_live_xxxxxxxxxxxxxxxxxxxxxxxx"
                                           readonly>
                                    <button onclick="copyAPIKey()"
                                            class="absolute left-3 top-3 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">
                                        ูุณุฎ
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุนุฏู ุงูุญุฏ (Rate Limit)</label>
                                <select id="api-rate-limit"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="60">60 ุทูุจ/ุฏูููุฉ</option>
                                    <option value="120" selected>120 ุทูุจ/ุฏูููุฉ</option>
                                    <option value="300">300 ุทูุจ/ุฏูููุฉ</option>
                                    <option value="600">600 ุทูุจ/ุฏูููุฉ</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุทุงู API ุงููุณููุญ (CORS)</label>
                                <textarea id="api-cors"
                                          class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition font-mono"
                                          rows="3"
                                          placeholder="https://app.example.com">https://dashboard.bank.com
https://admin.bank.com
http://localhost:3000</textarea>
                            </div>
                            
                            <div>
                                <button onclick="regenerateAPIKey()"
                                        class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center">
                                    <i class="fas fa-key ml-2"></i>
                                    ุฅุนุงุฏุฉ ุฅูุดุงุก ููุชุงุญ API
                                </button>
                                <p class="text-sm text-gray-600 mt-2">ุณูุชู ุชุนุทูู ุฌููุน ุงูููุงุชูุญ ุงููุฏููุฉ</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- WebSocket Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-bolt ml-3 text-yellow-600"></i>
                            ุฅุนุฏุงุฏุงุช WebSocket
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงูุงุชุตุงู ุงููุจุงุดุฑ</label>
                                    <p class="text-sm text-gray-600">ุชูุนูู ุชุญุฏูุซุงุช ุงูููุช ุงูุญูููู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="websocket-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุชุฑุฉ ุงูุชุญุฏูุซ</label>
                                <select id="websocket-interval"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="5">5 ุซูุงูู</option>
                                    <option value="10">10 ุซูุงูู</option>
                                    <option value="30" selected>30 ุซุงููุฉ</option>
                                    <option value="60">ุฏูููุฉ ูุงุญุฏุฉ</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ููุช ุงูุชูุงุก ุงูุงุชุตุงู</label>
                                <select id="websocket-timeout"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="300">5 ุฏูุงุฆู</option>
                                    <option value="600" selected>10 ุฏูุงุฆู</option>
                                    <option value="1800">30 ุฏูููุฉ</option>
                                    <option value="3600">ุณุงุนุฉ ูุงุญุฏุฉ</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู</label>
                                    <p class="text-sm text-gray-600">ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุนูุฏ ููุฏุงูู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="websocket-reconnect" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <i class="fas fa-info-circle text-blue-600 ml-3"></i>
                                    <div>
                                        <p class="text-blue-800 font-medium">ุญุงูุฉ ุงูุงุชุตุงู ุงูุญุงููุฉ:</p>
                                        <p class="text-sm text-blue-600">
                                            <span id="websocket-status" class="font-bold text-green-600">ูุชุตู</span>
                                            โข ุขุฎุฑ ุชุญุฏูุซ: <span id="last-update-time">ุซูุงูู ููููุฉ</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- External Integrations -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-exchange-alt ml-3 text-green-600"></i>
                            ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉ
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชูุงูู SAP</label>
                                    <p class="text-sm text-gray-600">ุฑุจุท ูุน ูุธุงู SAP ุงููุงูู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="sap-integration">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุฎุงุฏู SAP</label>
                                <input type="text" 
                                       id="sap-server"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       placeholder="https://sap.example.com">
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชูุงูู SWIFT</label>
                                    <p class="text-sm text-gray-600">ุฑุจุท ูุน ุดุจูุฉ SWIFT</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="swift-integration" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุนุฑู SWIFT</label>
                                <input type="text" 
                                       id="swift-id"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       placeholder="BANKSAUDIXXX">
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุชูุงูู SAMA</label>
                                    <p class="text-sm text-gray-600">ุฑุจุท ูุน ููุฆุฉ ุงูุณูู ุงููุงููุฉ</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="sama-integration" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุฑูุฒ SAMA</label>
                                <input type="text" 
                                       id="sama-code"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       placeholder="SAR001">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Backup Settings Tab -->
            <div id="content-backup" class="tab-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Backup Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-download ml-3 text-blue-600"></i>
                            ุงููุณุฎ ุงูุงุญุชูุงุทู
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงููุณุฎ ุงูุชููุงุฆู</label>
                                    <p class="text-sm text-gray-600">ุฅูุดุงุก ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="auto-backup-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุชูููุช ุงููุณุฎ ุงููููู</label>
                                <input type="time" 
                                       id="daily-backup-time"
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                       value="02:00">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุชุฑุฉ ุงูุงุญุชูุงุธ ุจุงููุณุฎ</label>
                                <select id="backup-retention"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="7">ุฃุณุจูุน ูุงุญุฏ</option>
                                    <option value="30" selected>ุดูุฑ ูุงุญุฏ</option>
                                    <option value="90">3 ุฃุดูุฑ</option>
                                    <option value="180">6 ุฃุดูุฑ</option>
                                    <option value="365">ุณูุฉ ูุงุญุฏุฉ</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูููุน ุงูุชุฎุฒูู</label>
                                <select id="backup-storage"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="local" selected>ุงูุฎุงุฏู ุงููุญูู</option>
                                    <option value="s3">Amazon S3</option>
                                    <option value="google">Google Cloud</option>
                                    <option value="azure">Microsoft Azure</option>
                                    <option value="ftp">ุฎุงุฏู FTP</option>
                                </select>
                            </div>
                            
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <i class="fas fa-info-circle text-blue-600 ml-3"></i>
                                    <div>
                                        <p class="text-blue-800 font-medium">ุขุฎุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ:</p>
                                        <p class="text-sm text-blue-600" id="last-backup-time">ุฃูุณ 02:00 ุตุจุงุญูุง</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Manual Backup -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-hdd ml-3 text-green-600"></i>
                            ูุณุฎ ูุฏููุฉ
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="backup-card rounded-xl p-6 text-center cursor-pointer hover:border-blue-400 transition-colors"
                                 onclick="createBackup()">
                                <i class="fas fa-database text-4xl text-blue-600 mb-4"></i>
                                <h4 class="font-bold text-gray-800 mb-2">ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุงูุขู</h4>
                                <p class="text-sm text-gray-600">ูุณุฎ ูุงูู ููุจูุงูุงุช ูุงูุฅุนุฏุงุฏุงุช</p>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <button onclick="exportData('transactions')"
                                        class="p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border text-center">
                                    <i class="fas fa-file-export text-green-600 text-xl mb-2"></i>
                                    <p class="font-medium text-sm">ุชุตุฏูุฑ ุงููุนุงููุงุช</p>
                                </button>
                                
                                <button onclick="exportData('reports')"
                                        class="p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border text-center">
                                    <i class="fas fa-chart-bar text-blue-600 text-xl mb-2"></i>
                                    <p class="font-medium text-sm">ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ</p>
                                </button>
                                
                                <button onclick="exportData('settings')"
                                        class="p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border text-center">
                                    <i class="fas fa-cog text-purple-600 text-xl mb-2"></i>
                                    <p class="font-medium text-sm">ุชุตุฏูุฑ ุงูุฅุนุฏุงุฏุงุช</p>
                                </button>
                                
                                <button onclick="exportData('users')"
                                        class="p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border text-center">
                                    <i class="fas fa-users text-yellow-600 text-xl mb-2"></i>
                                    <p class="font-medium text-sm">ุชุตุฏูุฑ ุงููุณุชุฎุฏููู</p>
                                </button>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุงุณุชุนุงุฏุฉ ูู ูุณุฎุฉ</label>
                                <div class="relative">
                                    <input type="file" 
                                           id="restore-file"
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                           accept=".backup,.json,.sql,.zip">
                                    <button onclick="restoreBackup()"
                                            class="absolute left-3 top-3 px-4 py-1.5 bg-green-600 text-white rounded hover:bg-green-700">
                                        ุงุณุชุนุงุฏุฉ
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Backup History -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-history ml-3 text-gray-600"></i>
                            ุณุฌู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
                        </h3>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="py-3 px-4 text-right font-semibold text-gray-700">ุงูุชุงุฑูุฎ</th>
                                        <th class="py-3 px-4 text-right font-semibold text-gray-700">ุงูููุน</th>
                                        <th class="py-3 px-4 text-right font-semibold text-gray-700">ุงูุญุฌู</th>
                                        <th class="py-3 px-4 text-right font-semibold text-gray-700">ุงูุญุงูุฉ</th>
                                        <th class="py-3 px-4 text-right font-semibold text-gray-700">ุงูุฅุฌุฑุงุกุงุช</th>
                                    </tr>
                                </thead>
                                <tbody id="backup-history">
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4">ุงูููู 02:00</td>
                                        <td class="py-3 px-4">ุชููุงุฆู</td>
                                        <td class="py-3 px-4">45.2 MB</td>
                                        <td class="py-3 px-4">
                                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">
                                                ููุชูู
                                            </span>
                                        </td>
                                        <td class="py-3 px-4">
                                            <button onclick="downloadBackup(1)" class="text-blue-600 hover:text-blue-800 ml-3">
                                                <i class="fas fa-download"></i>
                                            </button>
                                            <button onclick="deleteBackup(1)" class="text-red-600 hover:text-red-800">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4">ุฃูุณ 02:00</td>
                                        <td class="py-3 px-4">ุชููุงุฆู</td>
                                        <td class="py-3 px-4">44.8 MB</td>
                                        <td class="py-3 px-4">
                                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">
                                                ููุชูู
                                            </span>
                                        </td>
                                        <td class="py-3 px-4">
                                            <button onclick="downloadBackup(2)" class="text-blue-600 hover:text-blue-800 ml-3">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4">ูุจู ููููู 02:00</td>
                                        <td class="py-3 px-4">ุชููุงุฆู</td>
                                        <td class="py-3 px-4">44.5 MB</td>
                                        <td class="py-3 px-4">
                                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">
                                                ููุชูู
                                            </span>
                                        </td>
                                        <td class="py-3 px-4">
                                            <button onclick="downloadBackup(3)" class="text-blue-600 hover:text-blue-800 ml-3">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Advanced Settings Tab -->
            <div id="content-advanced" class="tab-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Performance Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-tachometer-alt ml-3 text-green-600"></i>
                            ุฅุนุฏุงุฏุงุช ุงูุฃุฏุงุก
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช</label>
                                <select id="cache-size"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="64">64 MB</option>
                                    <option value="128" selected>128 MB</option>
                                    <option value="256">256 MB</option>
                                    <option value="512">512 MB</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุฏุฉ ุงูุชุฎุฒูู ุงููุคูุช</label>
                                <select id="cache-duration"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="60">ุฏูููุฉ ูุงุญุฏุฉ</option>
                                    <option value="300" selected>5 ุฏูุงุฆู</option>
                                    <option value="600">10 ุฏูุงุฆู</option>
                                    <option value="1800">30 ุฏูููุฉ</option>
                                    <option value="3600">ุณุงุนุฉ ูุงุญุฏุฉ</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุถุบุท ุงูุจูุงูุงุช</label>
                                    <p class="text-sm text-gray-600">ุถุบุท ุงูุงุณุชุฌุงุจุงุช ูุชุญุณูู ุงูุณุฑุนุฉ</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="compression-enabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุงูุชุฎุฒูู ุงููุคูุช ููุงุณุชุนูุงูุงุช</label>
                                    <p class="text-sm text-gray-600">ุชุฎุฒูู ูุชุงุฆุฌ ุงูุงุณุชุนูุงูุงุช</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="query-caching" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">ุฃุฏุงุก ุงููุธุงู ุงูุญุงูู:</span>
                                    <span class="font-bold text-green-600">ููุชุงุฒ</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                    <div class="h-2 rounded-full bg-green-500" style="width: 92%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Logging Settings -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-clipboard-list ml-3 text-yellow-600"></i>
                            ุฅุนุฏุงุฏุงุช ุงูุณุฌูุงุช
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุณุชูู ุงูุณุฌูุงุช</label>
                                <select id="log-level"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="DEBUG">ุชูุตููู (DEBUG)</option>
                                    <option value="INFO">ูุนูููุงุช (INFO)</option>
                                    <option value="WARNING" selected>ุชุญุฐูุฑุงุช (WARNING)</option>
                                    <option value="ERROR">ุฃุฎุทุงุก (ERROR)</option>
                                    <option value="CRITICAL">ุญุฑุฌ (CRITICAL)</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">ูุชุฑุฉ ุงูุงุญุชูุงุธ ุจุงูุณุฌูุงุช</label>
                                <select id="log-retention"
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                                    <option value="7">ุฃุณุจูุน ูุงุญุฏ</option>
                                    <option value="30" selected>ุดูุฑ ูุงุญุฏ</option>
                                    <option value="90">3 ุฃุดูุฑ</option>
                                    <option value="180">6 ุฃุดูุฑ</option>
                                    <option value="365">ุณูุฉ ูุงุญุฏุฉ</option>
                                </select>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุณุฌูุงุช ุงูุชุฏููู</label>
                                    <p class="text-sm text-gray-600">ุชุณุฌูู ุฌููุน ุฅุฌุฑุงุกุงุช ุงููุณุชุฎุฏููู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="audit-logging" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-gray-700 mb-1 font-medium">ุณุฌูุงุช ุงูุฃุฏุงุก</label>
                                    <p class="text-sm text-gray-600">ุชุณุฌูู ููุงููุณ ุฃุฏุงุก ุงููุธุงู</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="performance-logging">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div>
                                <button onclick="downloadLogs()"
                                        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center">
                                    <i class="fas fa-download ml-2"></i>
                                    ุชุญููู ุงูุณุฌูุงุช
                                </button>
                                <p class="text-sm text-gray-600 mt-2">ุชุญููู ุณุฌูุงุช ุขุฎุฑ 7 ุฃูุงู</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Information -->
                    <div class="settings-card bg-white border border-gray-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-info-circle ml-3 text-blue-600"></i>
                            ูุนูููุงุช ุงููุธุงู
                        </h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-600 mb-1">ุฅุตุฏุงุฑ ุงููุธุงู</p>
                                <p class="font-bold text-gray-800">v2.1.0</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-600 mb-1">ุชุงุฑูุฎ ุงูุจูุงุก</p>
                                <p class="font-bold text-gray-800">2024-01-15</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-600 mb-1">ูุงุนุฏุฉ ุงูุจูุงูุงุช</p>
                                <p class="font-bold text-gray-800">SQLite 3.42.0</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-600 mb-1">ุงููุฑูุน ุงููุณุฌูุฉ</p>
                                <p class="font-bold text-gray-800">3 ูุฑูุน</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-600 mb-1">ุงููุณุชุฎุฏููู ุงููุดุทูู</p>
                                <p class="font-bold text-gray-800">5 ูุณุชุฎุฏููู</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-600 mb-1">ุงููุนุงููุงุช ุงูููููุฉ</p>
                                <p class="font-bold text-gray-800">47 ูุนุงููุฉ</p>
                            </div>
                            
                            <div class="md:col-span-2 lg:col-span-3">
                                <button onclick="runSystemDiagnostics()"
                                        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center">
                                    <i class="fas fa-stethoscope ml-2"></i>
                                    ุชุดุฎูุต ุงููุธุงู
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dangerous Zone -->
                    <div class="settings-card bg-white border border-red-200 rounded-xl p-6 lg:col-span-2">
                        <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                            <i class="fas fa-exclamation-triangle ml-3 text-red-600"></i>
                            ููุทูุฉ ุงูุฎุทุฑ
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="bg-red-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <i class="fas fa-exclamation-circle text-red-600 ml-3"></i>
                                    <div>
                                        <p class="text-red-800 font-bold">ุชุญุฐูุฑ!</p>
                                        <p class="text-sm text-red-600">ูุฐู ุงูุฅุฌุฑุงุกุงุช ูุง ูููู ุงูุชุฑุงุฌุน ุนููุง ููุฏ ุชุคุฏู ุฅูู ููุฏุงู ุงูุจูุงูุงุช</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <button onclick="clearCache()"
                                        class="p-4 bg-yellow-50 hover:bg-yellow-100 border border-yellow-200 rounded-lg text-center">
                                    <i class="fas fa-broom text-yellow-600 text-xl mb-2"></i>
                                    <p class="font-medium">ูุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ</p>
                                </button>
                                
                                <button onclick="optimizeDatabase()"
                                        class="p-4 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg text-center">
                                    <i class="fas fa-database text-blue-600 text-xl mb-2"></i>
                                    <p class="font-medium">ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</p>
                                </button>
                                
                                <button onclick="resetSettings()"
                                        class="p-4 bg-orange-50 hover:bg-orange-100 border border-orange-200 rounded-lg text-center">
                                    <i class="fas fa-undo text-orange-600 text-xl mb-2"></i>
                                    <p class="font-medium">ุฅุนุงุฏุฉ ุถุจุท ุงูุฅุนุฏุงุฏุงุช</p>
                                </button>
                                
                                <button onclick="purgeOldData()"
                                        class="p-4 bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg text-center">
                                    <i class="fas fa-trash text-red-600 text-xl mb-2"></i>
                                    <p class="font-medium">ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ</p>
                                </button>
                            </div>
                            
                            <div>
                                <button onclick="showSystemResetModal()"
                                        class="px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center justify-center w-full">
                                    <i class="fas fa-bomb ml-2"></i>
                                    ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู ุจุงููุงูู
                                </button>
                                <p class="text-xs text-red-600 text-center mt-2">ุณูุชู ุญุฐู ุฌููุน ุงูุจูุงูุงุช ูุงูุฅุนุฏุงุฏุงุช ูุงูุนูุฏุฉ ููุญุงูุฉ ุงูุฃูููุฉ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- System Reset Modal -->
<div id="system-reset-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-xl shadow-2xl w-full max-w-md animate__animated animate__zoomIn">
        <div class="p-6">
            <div class="text-center">
                <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <i class="fas fa-exclamation-triangle text-3xl text-red-600"></i>
                </div>
                
                <h3 class="text-xl font-bold text-gray-800 mb-2">โ๏ธ ุชุญุฐูุฑ: ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู</h3>
                <p class="text-gray-600 mb-4">ูุฐุง ุงูุฅุฌุฑุงุก ุณููุญู ุฌููุน ุงูุจูุงูุงุช ููุง ูููู ุงูุชุฑุงุฌุน ุนูู</p>
                
                <div class="bg-red-50 p-4 rounded-lg mb-6">
                    <p class="text-red-700 font-medium mb-2">ุณูุชู ุญุฐู:</p>
                    <ul class="text-sm text-red-600 text-right space-y-1">
                        <li>โข ุฌููุน ุงููุฑูุน ูุงููุณุชุฎุฏููู</li>
                        <li>โข ุฌููุน ุงููุนุงููุงุช ูุงูุณุฌูุงุช</li>
                        <li>โข ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูุงูุชููููุงุช</li>
                        <li>โข ุฌููุน ุงูุชูุงุฑูุฑ ูุงูุชูุจุคุงุช</li>
                    </ul>
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-700 mb-2">ุงูุชุจ "RESET" ููุชุฃููุฏ:</label>
                    <input type="text" 
                           id="reset-confirmation"
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none text-center font-mono"
                           placeholder="RESET">
                </div>
                
                <div class="flex space-x-3 space-x-reverse">
                    <button onclick="closeSystemResetModal()"
                            class="flex-1 px-4 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition font-medium">
                        ุฅูุบุงุก
                    </button>
                    <button onclick="confirmSystemReset()"
                            class="flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium"
                            disabled>
                        ุชุฃููุฏ ุงูุฅุนุงุฏุฉ
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Success Modal -->
<div id="settings-success-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-xl shadow-2xl w-full max-w-md animate__animated animate__zoomIn">
        <div class="p-6">
            <div class="text-center">
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <i class="fas fa-check text-3xl text-green-600"></i>
                </div>
                
                <h3 class="text-xl font-bold text-gray-800 mb-2" id="success-modal-title">ุชู ุงูุญูุธ ุจูุฌุงุญ</h3>
                <p class="text-gray-600 mb-6" id="success-modal-message">ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ</p>
                
                <button onclick="closeSuccessModal()"
                        class="w-full px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
                    ููุงูู
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Initialize settings
    let currentTab = 'general';
    let selectedTheme = 'blue';
    let selectedColor = 'blue';
    let selectedLayout = 'comfortable';
    
    // Tab switching
    function switchTab(tabName) {
        // Hide all tab contents
        document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.add('hidden');
        });
        
        // Remove active class from all tabs
        document.querySelectorAll('.tab-button').forEach(tab => {
            tab.classList.remove('active');
        });
        
        // Show selected tab content
        document.getElementById(`content-${tabName}`).classList.remove('hidden');
        
        // Activate selected tab
        document.getElementById(`tab-${tabName}`).classList.add('active');
        
        currentTab = tabName;
    }
    
    // Initialize on load
    document.addEventListener('DOMContentLoaded', function() {
        // Make dashboard items sortable
        initSortableItems();
        
        // Update range values
        updateLCRValue(100);
        updateNSFRValue(100);
        updateEarlyWarningValue(20);
        
        // Setup confirmation input
        setupResetConfirmation();
        
        // Update WebSocket status
        updateWebSocketStatus();
        
        // Initialize theme
        selectTheme('blue');
        selectColor('blue');
    });
    
    // Update LCR value display
    function updateLCRValue(value) {
        document.getElementById('lcr-value').textContent = value + '%';
        const color = value >= 100 ? 'text-green-600' : value >= 80 ? 'text-yellow-600' : 'text-red-600';
        document.getElementById('lcr-value').className = `text-lg font-bold ${color}`;
    }
    
    // Update NSFR value display
    function updateNSFRValue(value) {
        document.getElementById('nsfr-value').textContent = value + '%';
        const color = value >= 100 ? 'text-green-600' : value >= 90 ? 'text-yellow-600' : 'text-red-600';
        document.getElementById('nsfr-value').className = `text-lg font-bold ${color}`;
    }
    
    // Update Early Warning value display
    function updateEarlyWarningValue(value) {
        document.getElementById('early-warning-value').textContent = value + '%';
        const color = value >= 30 ? 'text-green-600' : value >= 20 ? 'text-yellow-600' : 'text-red-600';
        document.getElementById('early-warning-value').className = `text-lg font-bold ${color}`;
    }
    
    // Theme selection
    function selectTheme(theme) {
        selectedTheme = theme;
        
        // Update UI
        document.querySelectorAll('.theme-preview').forEach(preview => {
            preview.classList.remove('active');
        });
        
        document.querySelector(`[data-theme="${theme}"]`).classList.add('active');
        
        // Apply theme (in real app, this would update CSS variables)
        console.log(`Theme changed to: ${theme}`);
    }
    
    // Color selection
    function selectColor(color) {
        selectedColor = color;
        
        // Update UI
        document.querySelectorAll('.color-picker').forEach(picker => {
            picker.classList.remove('active');
        });
        
        document.querySelector(`[data-color="${color}"]`).classList.add('active');
        
        // Apply color (in real app, this would update CSS variables)
        console.log(`Color changed to: ${color}`);
    }
    
    // Layout selection
    function selectLayout(layout) {
        selectedLayout = layout;
        
        // Update UI
        document.querySelectorAll('[onclick^="selectLayout"]').forEach(btn => {
            btn.classList.remove('border-blue-500', 'text-blue-600', 'bg-blue-50');
            btn.classList.add('border-gray-300', 'hover:bg-gray-50');
        });
        
        event.target.classList.add('border-blue-500', 'text-blue-600', 'bg-blue-50');
        event.target.classList.remove('border-gray-300', 'hover:bg-gray-50');
        
        console.log(`Layout changed to: ${layout}`);
    }
    
    // Make dashboard items sortable
    function initSortableItems() {
        const container = document.getElementById('dashboard-items');
        if (!container) return;
        
        // Simple drag and drop implementation
        let dragged = null;
        
        container.querySelectorAll('[data-item]').forEach(item => {
            item.setAttribute('draggable', 'true');
            
            item.addEventListener('dragstart', function(e) {
                dragged = this;
                setTimeout(() => {
                    this.style.opacity = '0.4';
                }, 0);
            });
            
            item.addEventListener('dragend', function(e) {
                setTimeout(() => {
                    dragged.style.opacity = '';
                    dragged = null;
                }, 0);
            });
            
            item.addEventListener('dragover', function(e) {
                e.preventDefault();
            });
            
            item.addEventListener('dragenter', function(e) {
                e.preventDefault();
                this.style.backgroundColor = '#f3f4f6';
            });
            
            item.addEventListener('dragleave', function(e) {
                this.style.backgroundColor = '';
            });
            
            item.addEventListener('drop', function(e) {
                e.preventDefault();
                if (dragged && dragged !== this) {
                    const allItems = Array.from(container.children);
                    const draggedIndex = allItems.indexOf(dragged);
                    const targetIndex = allItems.indexOf(this);
                    
                    if (draggedIndex < targetIndex) {
                        this.after(dragged);
                    } else {
                        this.before(dragged);
                    }
                    
                    // Save order
                    saveDashboardOrder();
                }
                this.style.backgroundColor = '';
            });
        });
    }
    
    // Save dashboard item order
    function saveDashboardOrder() {
        const items = Array.from(document.getElementById('dashboard-items').children);
        const order = items.map(item => item.dataset.item);
        console.log('Dashboard order saved:', order);
        // In real app, save to server
    }
    
    // Update WebSocket status
    function updateWebSocketStatus() {
        const statusElement = document.getElementById('websocket-status');
        const timeElement = document.getElementById('last-update-time');
        
        if (Math.random() > 0.1) { // 90% chance connected
            statusElement.textContent = 'ูุชุตู';
            statusElement.className = 'font-bold text-green-600';
            timeElement.textContent = 'ุซูุงูู ููููุฉ';
        } else {
            statusElement.textContent = 'ุบูุฑ ูุชุตู';
            statusElement.className = 'font-bold text-red-600';
            timeElement.textContent = 'ููุฐ 5 ุฏูุงุฆู';
        }
        
        // Update periodically
        setTimeout(updateWebSocketStatus, 30000);
    }
    
    // Copy API key
    function copyAPIKey() {
        const keyInput = document.getElementById('api-key');
        keyInput.select();
        keyInput.setSelectionRange(0, 99999);
        
        try {
            navigator.clipboard.writeText(keyInput.value);
            showToast('ุชู ูุณุฎ ููุชุงุญ API');
        } catch (err) {
            console.error('Failed to copy:', err);
        }
    }
    
    // Regenerate API key
    function regenerateAPIKey() {
        if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุฅูุดุงุก ููุชุงุญ APIุ ุณูุชู ุชุนุทูู ุฌููุน ุงูููุงุชูุญ ุงููุฏููุฉ.')) {
            // Generate new key
            const newKey = 'sk_live_' + Math.random().toString(36).substring(2) + Math.random().toString(36).substring(2);
            document.getElementById('api-key').value = newKey;
            
            showSuccess('ุชู ุฅูุดุงุก ููุชุงุญ API ุฌุฏูุฏ', 'ุณูุชู ุชูุนูู ุงูููุชุงุญ ุงูุฌุฏูุฏ ููุฑูุง.');
        }
    }
    
    // Rotate encryption keys
    function rotateEncryptionKeys() {
        if (confirm('ูู ุชุฑูุฏ ุชุฏููุฑ ููุงุชูุญ ุงูุชุดููุฑุ ูุฐู ุงูุนูููุฉ ูุฏ ุชุณุชุบุฑู ุนุฏุฉ ุฏูุงุฆู.')) {
            // Show loading
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin ml-2"></i> ุฌุงุฑู ุงูุชุฏููุฑ...';
            btn.disabled = true;
            
            // Simulate rotation
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                showSuccess('ุชู ุชุฏููุฑ ุงูููุงุชูุญ', 'ุชู ุฅูุดุงุก ููุงุชูุญ ุชุดููุฑ ุฌุฏูุฏุฉ ุจูุฌุงุญ.');
            }, 3000);
        }
    }
    
    // Preview notification
    function previewNotification() {
        const template = document.getElementById('low-liquidity-template').value;
        alert('ูุนุงููุฉ ุงูุชูุจูู:\n\n' + template.replace(/\{\{.*?\}\}/g, '[ุจูุงูุงุช]'));
    }
    
    // Backup functions
    function createBackup() {
        const btn = event?.target?.closest('button') || event?.target?.closest('.backup-card');
        if (!btn) return;
        
        const originalHTML = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin ml-2"></i> ุฌุงุฑู ุงููุณุฎ...';
        
        // Simulate backup creation
        setTimeout(() => {
            btn.innerHTML = originalHTML;
            showSuccess('ุชู ุฅูุดุงุก ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ', 'ุชู ุญูุธ ุงููุณุฎุฉ ุจูุฌุงุญ ูู ุงูุฎุงุฏู ุงููุญูู.');
            updateLastBackupTime();
        }, 2000);
    }
    
    function updateLastBackupTime() {
        const now = new Date();
        const timeStr = now.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'});
        document.getElementById('last-backup-time').textContent = `ุงูููู ${timeStr}`;
    }
    
    function exportData(type) {
        const types = {
            'transactions': 'ุงููุนุงููุงุช',
            'reports': 'ุงูุชูุงุฑูุฑ',
            'settings': 'ุงูุฅุนุฏุงุฏุงุช',
            'users': 'ุงููุณุชุฎุฏููู'
        };
        
        // Create download link
        const link = document.createElement('a');
        link.href = '#';
        link.download = `export_${type}_${new Date().toISOString().split('T')[0]}.json`;
        link.click();
        
        showSuccess('ุชู ุงูุชุตุฏูุฑ', `ุชู ุชุตุฏูุฑ ${types[type]} ุจูุฌุงุญ.`);
    }
    
    function restoreBackup() {
        const fileInput = document.getElementById('restore-file');
        const file = fileInput.files[0];
        
        if (!file) {
            alert('ูุฑุฌู ุงุฎุชูุงุฑ ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ');
            return;
        }
        
        if (confirm('ุชุญุฐูุฑ: ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุณุชุณุชุจุฏู ุฌููุน ุงูุจูุงูุงุช ุงูุญุงููุฉ. ูู ุฃูุช ูุชุฃูุฏุ')) {
            // Simulate restore
            showSuccess('ุฌุงุฑู ุงูุงุณุชุนุงุฏุฉ', 'ุณุชุณุชุบุฑู ุงูุนูููุฉ ุนุฏุฉ ุฏูุงุฆู...');
        }
    }
    
    function downloadBackup(id) {
        // Simulate download
        const link = document.createElement('a');
        link.href = '#';
        link.download = `backup_${id}_${new Date().toISOString().split('T')[0]}.zip`;
        link.click();
        
        showToast('ุฌุงุฑู ุชุญููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ...');
    }
    
    function deleteBackup(id) {
        if (confirm('ูู ุชุฑูุฏ ุญุฐู ูุฐู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉุ')) {
            // Simulate deletion
            const row = event.target.closest('tr');
            row.style.opacity = '0.5';
            
            setTimeout(() => {
                row.remove();
                showToast('ุชู ุญุฐู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ');
            }, 500);
        }
    }
    
    // Advanced functions
    function downloadLogs() {
        // Simulate download
        const link = document.createElement('a');
        link.href = '#';
        link.download = `system_logs_${new Date().toISOString().split('T')[0]}.zip`;
        link.click();
        
        showSuccess('ุชู ุชุญููู ุงูุณุฌูุงุช', 'ุชู ุญูุธ ููู ุงูุณุฌูุงุช ุจูุฌุงุญ.');
    }
    
    function runSystemDiagnostics() {
        const btn = event.target;
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin ml-2"></i> ุฌุงุฑู ุงูุชุดุฎูุต...';
        btn.disabled = true;
        
        // Simulate diagnostics
        setTimeout(() => {
            btn.innerHTML = originalText;
            btn.disabled = false;
            showSuccess('ุงูุชูู ุงูุชุดุฎูุต', 'ุฌููุน ุงูุฃูุธูุฉ ุชุนูู ุจุดูู ุทุจูุนู.');
        }, 3000);
    }
    
    // Dangerous zone functions
    function clearCache() {
        if (confirm('ูู ุชุฑูุฏ ูุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉุ')) {
            // Simulate cache clearing
            showSuccess('ุชู ูุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ', 'ุณูุชู ุชุญุณูู ุฃุฏุงุก ุงููุธุงู.');
        }
    }
    
    function optimizeDatabase() {
        if (confirm('ูู ุชุฑูุฏ ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุฏ ุชุณุชุบุฑู ุงูุนูููุฉ ุนุฏุฉ ุฏูุงุฆู.')) {
            const btn = event.target;
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            
            setTimeout(() => {
                btn.innerHTML = originalHTML;
                showSuccess('ุชู ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช', 'ุชุญุณู ุงูุฃุฏุงุก ุจูุณุจุฉ 15%.');
            }, 2000);
        }
    }
    
    function resetSettings() {
        if (confirm('ูู ุชุฑูุฏ ุฅุนุงุฏุฉ ุถุจุท ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุฅูู ุงูููู ุงูุงูุชุฑุงุถูุฉุ')) {
            // Reload page to reset settings
            location.reload();
        }
    }
    
    function purgeOldData() {
        if (confirm('ูู ุชุฑูุฏ ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ (ุฃูุซุฑ ูู ุณูุฉ)ุ ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก.')) {
            showSuccess('ุฌุงุฑู ุงูุญุฐู', 'ุณูุชู ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ...');
        }
    }
    
    // System reset functions
    function showSystemResetModal() {
        document.getElementById('system-reset-modal').classList.remove('hidden');
    }
    
    function closeSystemResetModal() {
        document.getElementById('system-reset-modal').classList.add('hidden');
        document.getElementById('reset-confirmation').value = '';
        updateResetButton();
    }
    
    function setupResetConfirmation() {
        const input = document.getElementById('reset-confirmation');
        const button = document.querySelector('#system-reset-modal button[onclick="confirmSystemReset()"]');
        
        input.addEventListener('input', function() {
            updateResetButton();
        });
    }
    
    function updateResetButton() {
        const input = document.getElementById('reset-confirmation');
        const button = document.querySelector('#system-reset-modal button[onclick="confirmSystemReset()"]');
        
        if (input.value.toUpperCase() === 'RESET') {
            button.disabled = false;
            button.classList.remove('opacity-50', 'cursor-not-allowed');
        } else {
            button.disabled = true;
            button.classList.add('opacity-50', 'cursor-not-allowed');
        }
    }
    
    function confirmSystemReset() {
        if (document.getElementById('reset-confirmation').value.toUpperCase() !== 'RESET') {
            return;
        }
        
        if (confirm('โ๏ธ ุชุญุฐูุฑ ููุงุฆู: ูุฐุง ุณููุญู ุงููุธุงู ุจุงููุงูู. ูู ุฃูุช ูุชุฃูุฏ ุชูุงููุงุ')) {
            // Show loading
            const button = document.querySelector('#system-reset-modal button[onclick="confirmSystemReset()"]');
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-spinner fa-spin ml-2"></i>';
            button.disabled = true;
            
            // Simulate reset
            setTimeout(() => {
                closeSystemResetModal();
                alert('โ ุชู ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู ุจูุฌุงุญ. ุณูุชู ุฅุนุงุฏุฉ ุงูุชูุฌูู...');
                // In real app, redirect to setup page
                // location.href = '/setup';
            }, 3000);
        }
    }
    
    // Save all settings
    function saveAllSettings() {
        // Collect all settings
        const settings = {
            general: {
                systemName: document.getElementById('system-name').value,
                timezone: document.getElementById('timezone').value,
                language: document.getElementById('language').value,
                currency: document.getElementById('currency').value,
                maintenanceMode: document.getElementById('maintenance-mode').checked,
                lcrThreshold: document.getElementById('lcr-threshold').value,
                nsfrThreshold: document.getElementById('nsfr-threshold').value,
                earlyWarning: document.getElementById('early-warning').value,
                autoCompliance: document.getElementById('auto-compliance').checked,
                defaultMinLiquidity: document.getElementById('default-min-liquidity').value,
                defaultMaxLiquidity: document.getElementById('default-max-liquidity').value,
                updateInterval: document.getElementById('liquidity-update-interval').value,
                dailyReportTime: document.getElementById('daily-report-time').value
            },
            security: {
                twoFactorEnabled: document.getElementById('2fa-enabled').checked,
                sessionTimeout: document.getElementById('session-timeout').value,
                maxLoginAttempts: document.getElementById('max-login-attempts').value,
                userActivityLogging: document.getElementById('user-activity-logging').checked,
                encryptionAlgorithm: document.getElementById('encryption-algorithm').value,
                keyRotation: document.getElementById('key-rotation').value,
                dbEncryption: document.getElementById('db-encryption').checked
            },
            // ... collect more settings
        };
        
        console.log('Saving settings:', settings);
        
        // Show success message
        showSuccess('ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช', 'ุชู ุญูุธ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ.');
    }
    
    // Restore defaults
    function restoreDefaults() {
        if (confirm('ูู ุชุฑูุฏ ุงุณุชุนุงุฏุฉ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุฅูู ุงูููู ุงูุงูุชุฑุงุถูุฉุ')) {
            // In real app, this would reset to default values
            location.reload();
        }
    }
    
    // Show success modal
    function showSuccess(title, message) {
        document.getElementById('success-modal-title').textContent = title;
        document.getElementById('success-modal-message').textContent = message;
        document.getElementById('settings-success-modal').classList.remove('hidden');
    }
    
    function closeSuccessModal() {
        document.getElementById('settings-success-modal').classList.add('hidden');
    }
    
    // Show toast notification
    function showToast(message) {
        // Create toast element
        const toast = document.createElement('div');
        toast.className = 'fixed bottom-4 left-4 z-50 p-4 bg-gray-800 text-white rounded-lg shadow-xl animate__animated animate__fadeInUp';
        toast.innerHTML = `
            <div class="flex items-center">
                <i class="fas fa-check-circle ml-3 text-green-400"></i>
                <span>${message}</span>
            </div>
        `;
        
        document.body.appendChild(toast);
        
        // Remove after 3 seconds
        setTimeout(() => {
            toast.classList.add('animate__fadeOutDown');
            setTimeout(() => {
                if (toast.parentElement) {
                    toast.remove();
                }
            }, 500);
        }, 3000);
    }
    
    // Close modals when clicking outside
    document.getElementById('system-reset-modal')?.addEventListener('click', function(e) {
        if (e.target === this) {
            closeSystemResetModal();
        }
    });
    
    document.getElementById('settings-success-modal')?.addEventListener('click', function(e) {
        if (e.target === this) {
            closeSuccessModal();
        }
    });
</script>
{% endblock %}